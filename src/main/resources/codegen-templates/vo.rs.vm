use serde::Serialize;
use ${entityModulePath}::${moduleName};
#if($tableComment != "")

/// ${tableComment} Response
#else

/// ${entityName} Response
#end
#[derive(${voBaseDerives}#if($extraDerives != ""), ${extraDerives}#end)]
pub struct $voName {
#foreach($column in $columns)
#if($column.comment != "")
    /// $column.comment
#end
    pub $column.fieldName: $column.voRustType,
#end
}

/// Convert Entity Model â†’ VO (DateTime fields are converted to String)
impl From<${moduleName}::Model> for $voName {
    fn from(model: ${moduleName}::Model) -> Self {
        Self {
#foreach($column in $columns)
#if($column.isDateTimeType && $column.isNullable)
            $column.fieldName: model.$column.fieldName.map(|v| v.to_string()),
#elseif($column.isDateTimeType)
            $column.fieldName: model.$column.fieldName.to_string(),
#else
            $column.fieldName: model.$column.fieldName,
#end
#end
        }
    }
}
