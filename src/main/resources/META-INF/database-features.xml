<idea-plugin>
    <!-- Extensions available when com.intellij.database plugin is present -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Code generation settings (project-level service) -->
        <projectService
            serviceImplementation="com.springrs.plugin.codegen.CodeGenSettingsState"/>

        <!-- Settings page: Settings → spring-rs → Code Generation -->
        <projectConfigurable
            parentId="SpringRs.Settings"
            instance="com.springrs.plugin.codegen.settings.CodeGenSettingsConfigurable"
            id="SpringRs.CodeGenSettings"
            displayName="Code Generation"
            nonDefaultProject="true"/>
    </extensions>

    <!-- Actions for Database view -->
    <actions>
        <action id="SpringRs.GenerateSeaOrm"
                class="com.springrs.plugin.codegen.GenerateSeaOrmAction"
                text="Generate Sea-ORM Code"
                description="Generate sea-orm entity from database tables"
                icon="/icons/spring-rs.svg">
            <add-to-group group-id="DatabaseViewPopupMenu" anchor="last"/>
        </action>

        <action id="SpringRs.InitTemplates"
                class="com.springrs.plugin.codegen.InitTemplatesAction"
                text="Initialize Sea-ORM Templates"
                description="Copy built-in Velocity templates to project for customization"
                icon="/icons/spring-rs.svg">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
